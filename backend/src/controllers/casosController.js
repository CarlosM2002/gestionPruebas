import pool from '../config/db.js';
export async function listCasos(req,res){ try{ const q=await pool.query('SELECT cp.*, c."Nombre" as "ComponenteNombre" FROM "casoPrueba" cp JOIN "Componente" c ON c."IdComponente"=cp."IdComponente" ORDER BY cp."IdPrueba"'); res.json(q.rows);}catch(e){console.error(e);res.status(500).json({message:'Error'})} }
export async function createCaso(req,res){ try{ const {IdComponente,Descripcion,CriteriosPrueba}=req.body; const q=await pool.query('INSERT INTO "casoPrueba" ("IdComponente","Descripcion","CriteriosPrueba") VALUES ($1,$2,$3) RETURNING *',[IdComponente,Descripcion,CriteriosPrueba]); res.status(201).json(q.rows[0]); }catch(e){console.error(e);res.status(500).json({message:'Error'})} }
